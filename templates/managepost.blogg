<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" name="userName" placeholder="Användarnamn" required value="%{userName}%">
    <input type="text" name="title" placeholder="Titel" required value="%{title}%">
    <input type="text" name="breadText" placeholder="Brödtext" required value="%{breadText}%">
    <button onclick="sendDeleteRequest()">Radera inlägg</button>
    <button type="submit">Redigera inlägg</button>
    <a href="/startpage"><button type="submit">Tillbaka</button></a>


    <script>
		function sendDeleteRequest(){
           let request = new XMLHttpRequest();

		   request.onload = function(){
              if(request.status === 204){
				  alert("Inlägget har raderats");
				  window.location = '/startpage';
			  }else{
                  alert("kunde inte radera profilen");
			  }

		   };

		   request.open('DELETE', '/showcasepost/%{_id}%');

		   request.send();
		}
	</script>
</body>

</html>